<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content>
    <title>Title</title>
    <link rel="stylesheet" href="/pc/css/relrase.css">
    <link rel="stylesheet" href="/static/css/iconfont.css">
    <style>
        button{cursor: pointer;}
        .cus-icon-tip{color: red;display: none;}
        .cus-input-err-tip{border: 1px solid red !important;}
        .code-hui{color: #cccccc;}
    </style>
</head>
<body  style="background: #F8F8F8"   >
<div class="wl-con" >
    <div class="wl-top" >
        <div style="position:relative;width:1265px;margin:0 auto;top:17px;left: 10px">
            <img src="/pc/image/logo1.png" alt="" >
        </div>
    </div>
    <div class="wl-zhanghao-box" style="position:relative;width:1265px;margin:0 auto;top:-80px;right: 42px;cursor: pointer">
        <div class="wl-zhanghao" style="right:0;">
            <p style="height: 80px;padding-top: 9px; background: #7DB0E8;" class="wl-xian"><span class="wl-toux"></span><span style="color: white;margin-left: 48px;float: left;margin-top: -1px;">用户名称</span><i class="iconfont icon-triangledownfill" style="color: white;"></i> </p>
            <div class="wl-cang" style="display: none">
                <p class="wl-xiany" id="wl-anquan" onclick="redream.href('/index/user/main')"><i class="iconfont icon-shezhi" style="font-size: 22px;margin-right: 10px"></i>账号设置</p>
                <p class="wl-xiany"><i class="iconfont icon-guanbi" style="font-size: 18px;margin-right: 10px"></i>退出登录</p>
            </div>
        </div>
    </div>
    <div class="tab-box" >
        <div class="wl-fabiao" style="cursor: pointer" onclick="redream.href('/index/article/test')">发表文章</div>
        <ul class="renzheng">
            <div class="wl-xian1">
                <span class="wl-shimin"><i class="iconfont icon-medal_light wl-xz" style="font-size: 30px"></i>实名认证</span><i class="iconfont icon-triangledownfill wl-sxia" style="font-size: 20px"></i>
            </div>
            <div class="wl-cang1" >
                <li class="active">个人认证</li>
                <li>医生认证</li>
                <li>医院认证</li>
                <li>官方认证</li>
            </div>
        </ul>
        <div class="tab-content" style="position: relative;" >
            <div class="active-txt wl-geren">
                <p>个人认证</p>
                <p class="wl-zhen" style="margin-top: 15px">真实姓名 <input type="text" placeholder="请输入真实姓名" id="fr1-username" ><span class="cus-icon-tip">&nbsp;<i class="iconfont icon-info" style="font-size: 20px;"></i></span></p>
                <p class="wl-zhen">身份证号  <input type="text" placeholder="请务必与上传的身份证件号码保持一致" id="fr1-idcard"><span class="cus-icon-tip">&nbsp;<i class="iconfont icon-info" style="font-size: 20px;"></i></span></p>
                <p class="wl-zhen" style="margin-top: 35px">上传身份证照片</p>
                <dl style="clear: both;min-height: 200px;padding-left: 10px;padding-top: 38px;position: relative;top: 4px;left: 52px">
                    <dt style="float: left;width: 87%;margin-left: 47px;" >
                        <dt style="width: 138px;height: 138px;border:2px dashed #cdcdcd; border-radius: 25px;float: left;position: relative;"  >
                            <dl style="position: absolute;width: 134px;height: 134px;cursor: pointer;top: 23px;left: 11px;">
                                <!--padding-left: 30px;padding-top: 20px;-->
                                <dd class="iconfont icon-xiangji" style="font-size: 50px;color:#cdcdcd;margin-left: 30px;z-index: 2"></dd>
                                <dt style="color: #cdcdcd;margin-right: 10px;cursor: pointer">添加身份证正面</dt>
                            </dl>
                                <input type="file" name="img"  style="width: 134px;height: 134px;opacity: 0;z-index: 3;cursor: pointer"/>
                        </dt>
                    </dt>
                </dl>
                <dl style="clear: both;min-height: 200px;padding-left: 10px;padding-top: 38px;position: relative;top: -196px;left: 235px;">
                    <dt style="float: left;width: 87%;margin-left: 47px;" >
                    <dt style="width: 138px;height: 138px;border:2px dashed #cdcdcd; border-radius: 25px;float: left;position: relative;"  >
                        <dl style="position: absolute;width: 134px;height: 134px;cursor: pointer;top: 23px;left: 11px;">
                            <!--padding-left: 30px;padding-top: 20px;-->
                            <dd class="iconfont icon-xiangji" style="font-size: 50px;color:#cdcdcd;margin-left: 30px;z-index: 2"></dd>
                            <dt style="color: #cdcdcd;margin-right: 10px;cursor: pointer">添加身份证反面</dt>
                        </dl>
                        <input type="file" name="img" a  style="width: 134px;height: 134px;opacity: 0;z-index: 3;cursor: pointer"/>
                    </dt>
                    </dt>
                </dl>
                <p class="wl-btn"><button onclick="objClass.submit1()">提交申请</button></p>
            </div>
            <div class="wl-geren1">
                <p>医生认证</p>
                <p class="wl-zhen1" style="margin-top: 15px">真实姓名 <input type="text" placeholder="请输入真实姓名" id="fr2-username"></p>
                <p class="wl-zhen1">身份证号  <input type="text" placeholder="请务必与上传的身份证件号码保持一致" id="fr2-idcard"></p>
                <p class="wl-zhen1">医师职称  <input type="text" placeholder="请输入最高职称" id="fr2-academic-title"></p>
                <p class="wl-zhen1">所在地区  <input type="text" placeholder="请输入户籍所在地" id="fr2-address"></p>
                <p class="wl-zhen1">上传资质证件</p>
                <dl style="clear: both;min-height: 200px;padding-left: 10px;padding-top: 38px;position: relative;top: 4px;left: 52px">
                    <dt style="float: left;width: 87%;margin-left: 47px;" >
                    <dt style="width: 138px;height: 138px;border:2px dashed #cdcdcd; border-radius: 25px;float: left;position: relative;"  >
                        <dl style="position: absolute;width: 134px;height: 134px;cursor: pointer;top: 23px;left: 35px;">
                            <dd class="iconfont icon-xiangji" style="font-size: 50px;color:#cdcdcd;margin-left: 2px;z-index: 2"></dd>
                            <dt style="color: #cdcdcd;margin-right: 10px;cursor: pointer">添加照片</dt>
                        </dl>
                        <input type="file" name="img"  style="width: 134px;height: 134px;opacity: 0;z-index: 3;cursor: pointer"/>
                    </dt>
                    <span class="wl-sc-js">支持绝大多数的图片格式，单张图片大小不超过10M。<br>最多可上传5张。</span></p>
                    </dt>
                </dl>
                <p class="wl-btn1"><button onclick="objClass.submit2()">提交申请</button></p>
            </div>
            <div class="wl-geren2">
                <p>医院/机构认证</p>
                <p class="wl-zhen2" style="margin-top: 15px">医院名称 <input type="text" placeholder="请与组织机构代码证或营业执照名称一致"></p>

                <p class="wl-zhen2">运营者姓名  <input type="text" placeholder="请输入运营者姓名" id="fr3-username"></p>
                <p class="wl-zhen2">运营者身份证号  <input type="text" placeholder="请务必与上传的身份证件号码保持一致" id="fr3-idcard"></p>
                <p class="wl-zhen3">运营者手机号  <input type="text" placeholder="请输入运营者手机号码" id="fr3-mobile" style="width: 679px;" maxlength="11"  onkeyup = "value=value.replace(/[^\d]/g,'')" ><span class="wl-huoqu " id="code-btn" style="cursor: pointer" onclick="objClass.sendSms1()">获取验证码</span></p>
                <p class="wl-zhen3">短信验证码  <input type="text" placeholder="请输入你收到的6位验证码" id="fr3-smd-code" style="width: 495px ;margin-left: 62px" maxlength="6" onkeyup = "value=value.replace(/[^\d]/g,'')" ></p>
                <p class="wl-zhen2">所在地区  <input type="text" placeholder="请输入医院/机构所在地区" id="fr3-address" ></p>
                <p class="wl-zhen2">擅长项目  <input type="text" placeholder="请输入医院/机构擅长项目" id="fr3-good-project" ></p>

                <p class="wl-zhen2">上传医院营业证件</p>
                <dl style="clear: both;min-height: 200px;padding-left: 10px;padding-top: 38px;position: relative;top: 4px;left: 52px">
                    <dt style="float: left;width: 87%;margin-left: 47px;" >
                    <dt style="width: 138px;height: 138px;border:2px dashed #cdcdcd; border-radius: 25px;float: left;position: relative;" >
                        <dl style="position: absolute;width: 134px;height: 134px;cursor: pointer;top: 23px;left: 35px;">
                            <!--padding-left: 30px;padding-top: 20px;-->
                            <dd class="iconfont icon-xiangji" style="font-size: 50px;color:#cdcdcd;margin-left: 2px;z-index: 2"></dd>
                            <dt style="color: #cdcdcd;margin-right: 10px;cursor: pointer">添加照片</dt>
                        </dl>
                        <input type="file" name="img"  style="width: 134px;height: 134px;opacity: 0;z-index: 3;cursor: pointer"/>
                    </dt>
                    </dt>
                    <span class="wl-sc-js">支持绝大多数的图片格式，单张图片大小不超过10M。<br>最多可上传5张。</span></p>
                </dl>
                <p class="wl-btn2"><button>提交申请</button></p>
            </div>
            <div class="wl-geren3">
                <p>官方企业认证</p>
                <p class="wl-zhen3" style="margin-top: 15px;">企业名称 <input type="text" placeholder="请与组织机构代码证或营业执照名称一致" style="margin-left: 77px"></p>
                <p class="wl-zhen3" >运营者姓名  <input type="text" placeholder="请输入运营者姓名" id="fr4-username" style="width: 679px;margin-left: 61px" ></p>
                <p class="wl-zhen1">身份证号  <input type="text" placeholder="请务必与上传的身份证件号码保持一致" id="fr4-idcard" /></p>
                <p class="wl-zhen3" >运营者手机号码  <input type="text" placeholder="请输入运营者手机号码" style="width: 679px;" id="fr4-mobile" onkeyup = "value=value.replace(/[^\d]/g,'')" ><span class="wl-huoqu " id="code-btn2" style="cursor: pointer" onclick="objClass.sendSms2()">获取验证码</span></p>
                <p class="wl-zhen3" > 短信验证码  <input type="text" placeholder="请输入你收到的6位验证码" id="fr4-smd-code" style="width: 495px ;margin-left: 62px" maxlength="6" onkeyup = "value=value.replace(/[^\d]/g,'')"></p>
                <p class="wl-zhen3" >上传企业工商营业执照</p>
                <dl style="clear: both;min-height: 200px;padding-left: 10px;padding-top: 38px;position: relative;top: 4px;left: 52px">
                    <dt style="float: left;width: 87%;margin-left: 47px;" >
                    <dt style="width: 138px;height: 138px;border:2px dashed #cdcdcd; border-radius: 25px;float: left;position: relative;" >
                        <dl style="position: absolute;width: 134px;height: 134px;cursor: pointer;top: 23px;left: 35px">
                            <!--padding-left: 30px;padding-top: 20px;-->
                            <dd class="iconfont icon-xiangji" style="font-size: 50px;color:#cdcdcd;margin-left: 2px;z-index: 2"></dd>
                            <dt style="color: #cdcdcd;margin-right: 10px;cursor: pointer">添加照片</dt>
                        </dl>
                        <input type="file" name="img"  style="width: 134px;height: 134px;opacity: 0;z-index: 3;cursor: pointer"/>
                    </dt>
                    </dt>
                    <span class="wl-sc-js">支持绝大多数的图片格式，单张图片大小不超过10M。<br>最多可上传5张。</span></p>
                </dl>
                <p class="wl-btn3"><button>提交申请</button></p>
            </div>
        </div>
        <div class="wl-liucheng" style="display: none;">
            <span class="wl-jindu">
               <span style="float: left;margin-top: -5px;margin-left: 20px"> <span class="iconfont icon-shuziyi" style="color:#7DB0E8 ;font-size: 25px"></span>提交认证信息</span> <i class="iconfont icon-hengxian" style="color:#7DB0E8 ;font-size: 57px;float: left"></i>
              <span style="float: left;margin-top: -5px">  <span class="iconfont icon-shuzier" style="color:#7DB0E8;font-size: 25px "></span>等待审核结果</span><span class="iconfont icon-hengxian" style="color:#7DB0E8 ;font-size: 57px;float: left"></span>
               <span style="float: left;margin-top: -5px"> <span class="iconfont icon-shuzisan-copy" style="font-size: 25px;color: #C8C8C8"></span>认证结果发布</span>
            </span>
        </div>
    </div>
</div>
</body>
<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/functions.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/js/verification-code.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    var codeObj = new VerificationCode('code-btn','获取验证码','code-hui');
    codeObj.run();

    var codeObj2 = new VerificationCode('code-btn2','获取验证码','code-hui');
    codeObj2.run();

    $(".tab-box li").each(function(index) {
        $(this).click(function() {
            $("li.active").removeClass("active"); //注意这里
            $(this).addClass("active");
            $(".tab-content div.active-txt").removeClass("active-txt");
            $(".tab-content div").eq(index).addClass("active-txt");
        });
    });

    $(".wl-xian").click(function () {
        $(".wl-cang").toggle();
    });

    $(".wl-shimin").click(function () {
        $(".wl-cang1").toggle();
    });

    var objClass = {
        loading:false,
        sendSmsCode:false,
        checkMobile:function(mobile){
            var reg_phone = /^[1][3,4,5,7,8][0-9]{9}$/;
            return reg_phone.test(mobile);
        },
        submit1:function(){
            var username  = $.trim($('#fr1-username').val());
            var idcard    = $.trim($('#fr1-idcard').val());
            var card_img1 = '';
            var card_img2 = '';

            if(username == ''){
                $('#fr1-username').addClass('cus-input-err-tip').next().show();
                return false;
            }else{
                $('#fr1-username').removeClass('cus-input-err-tip').next().hide();
            }

            if(idcard == ''){
                $('#fr1-idcard').addClass('cus-input-err-tip').next().show();
                return false;
            }else{
                $('#fr1-idcard').removeClass('cus-input-err-tip').next().hide();
            }

            if(card_img1 == ''){
                alert('请上传身份证正面照');
                return false;
            }

            if(card_img2 == ''){
                alert('请上传身份证反面照');
                return false;
            }

            if(!this.loading){
                this.ajax({type:1,username:username,idcard:idcard,card_img1:card_img1,card_img2:card_img2});
            }
        },
        submit2:function(){
            var username  = $.trim($('#fr2-username').val());
            var idcard    = $.trim($('#fr2-idcard').val());
            var card_img1 = '';
            var card_img2 = '';
            var address = $.trim($('#fr2-address').val());
            var academic_title = $.trim($('#fr2-academic-title').val());
            var qualification = '';

            if(username == ''){
                return false;
            }

            if(idcard == ''){
                return false;
            }


            if(card_img1 == ''){
                return false;
            }

            if(card_img2 == ''){
                return false;
            }

            if(address == ''){
                return false;
            }

            if(qualification == ''){
                return false;
            }

            var practice_certificate = '';
            if(practice_certificate == ''){
                return false;
            }
            if(!this.loading){
                this.ajax({type:2,username:username,idcard:idcard,card_img1:card_img1,card_img2:card_img2,qualification:qualification,practice_certificate:practice_certificate,address:address,academic_title:academic_title});
            }
        },
        submit3:function(){
            var username  = $.trim($('#fr3-username').val());
            var idcard    = $.trim($('#fr3-idcard').val());
            var card_img1 = '';
            var card_img2 = '';
            var enterprise_name = '';
            var business_licence = '';
            var sms_code = $.trim($('#fr3-sms-code').val());
            var mobile = $('#fr3-mobile').val();
            var address = $.trim($('#fr3-address').val());


            if(username == ''){
                return false;
            }

            if(idcard == ''){
                return false;
            }


            if(card_img1 == ''){
                return false;
            }

            if(card_img2 == ''){
                return false;
            }

            if(address == ''){
                return false;
            }

            if(enterprise_name == ''){
                return false;
            }

            if(address == ''){
                return false;
            }

            if(mobile == ''){
                return false;
            }
            if(sms_code == ''){
                return false;
            }

            if(!this.loading){
                this.ajax({type:3,username:username,idcard:idcard,card_img1:card_img1,card_img2:card_img2,enterprise_name:enterprise_name,business_licence:business_licence,sms_code:sms_code,mobile:mobile});
            }
        },
        submit4:function(){
            var username  = $.trim($('#fr4-username').val());
            var idcard    = $.trim($('#fr4-idcard').val());
            var card_img1 = '';
            var card_img2 = '';
            var enterprise_name = '';
            var business_licence = '';
            var sms_code = $.trim($('#fr4-sms-code').val());
            var mobile = $('#fr4-mobile').val();

            if(enterprise_name == ''){
                return false;
            }

            if(username == ''){
                return false;
            }

            if(idcard == ''){
                return false;
            }

            if(mobile == ''){
                return false;
            }

            if(sms_code == ''){
                return false;
            }

            if(card_img1 == ''){
                return false;
            }

            if(card_img2 == ''){
                return false;
            }

            if(!this.loading){
                this.ajax({type:4,username:username,idcard:idcard,card_img1:card_img1,card_img2:card_img2,enterprise_name:enterprise_name,business_licence:business_licence,sms_code:sms_code,mobile:mobile});
            }
        },
        ajax:function(type,data){
            $.ajax({
                url:"/index/user/addAuth",
                type:'post',
                data:data,
                dataType:'json',
                beforeSend:function(){
                    objClass.loading = true;
                },
                complete:function(){
                    objClass.loading = false;
                },
                success:function(res){
                    if(res.code == 200){
                        objClass.submitSuccess();
                    }else{
                        alert(res.msg);
                    }
                }
            });
        },
        submitSuccess:function(){
            alert('提交申请成功');
        },
        sendSms1:function(){
            var mobile = $('#fr3-mobile').val();
            if(!this.checkMobile(mobile)){
                alert('手机号格式不正确');
                return false;
            }
            if(codeObj.checkTime()){
                return false;
            }
            if(!this.sendSmsCode){
                $.ajax({
                    url:"/index/index/sendSmsCode",
                    type:'post',
                    data:{mobile:mobile,type:7},
                    dataType:'json',
                    beforeSend:function(){
                        objClass.sendSmsCode = true;
                    },
                    complete:function(){
                        objClass.sendSmsCode = false;
                    },
                    success:function(res){
                        if(res.code == 200){
                            codeObj.sendSmsCode();
                            return false;
                        }
                    }
                });
            }
        },
        sendSms2:function(){
            var mobile = $('#fr4-mobile').val();
            if(!this.checkMobile(mobile)){
                alert('手机号格式不正确');
                return false;
            }
            if(codeObj.checkTime()){
                return false;
            }
            if(!this.sendSmsCode){
                $.ajax({
                    url:"/index/index/sendSmsCode",
                    type:'post',
                    data:{mobile:mobile,type:7},
                    dataType:'json',
                    beforeSend:function(){
                        objClass.sendSmsCode = true;
                    },
                    complete:function(){
                        objClass.sendSmsCode = false;
                    },
                    success:function(res){
                        if(res.code == 200){
                            codeObj2.sendSmsCode();
                            return false;
                        }
                    }
                });
            }
        }
    };
</script>
</html>