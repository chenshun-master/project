<!DOCTYPE html>
<html lang="en">

	<head>
		<!--  <meta content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" name="viewport" />-->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,height=device-height, initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
		<meta name="viewport" content="target-densitydpi=device-dpi, width=750px, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta content="telephone=no" name="format-detection" />
		<link rel="stylesheet" type="text/css" href="/static/css/reg.css" />
		<title>Title</title>
		<script src="/static/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/rem.js" type="text/javascript" charset="utf-8"></script>
	
	</head>

	<body>
		<div class="con">
			<div class="wx-top">
				<div class="wx-reg">		
					<h3 style="font-size:0.38rem;width: 95%;height: 127px;line-height: 127px;text-align: center;color: #1f1f1f">绑定手机号</h3>
			     	<p><input id="phone" type="text" name="phone" placeholder="请输入你的手机号" ><button id="code-btn">获取验证码</button></p>
					<p style="margin-top: 40px;"><input id="code" type="text" name="code" placeholder="请输入你收到的验证码"></p>					
					<button id="btn" style="margin-top: 40px;">绑定</button>
				</div>
			</div>
		
		</div>

	</body>
	<script type="text/javascript">
		var code = ""; //接收验证码   
		$('#code-btn').click(function() {
			var count = 60;
			var phone = $("#phone").val(); //手机号码  
			var reg_phone = /^[1][3,4,5,7,8][0-9]{9}$/;
			if(!reg_phone.test(phone)) { //验证手机是否符合格式
				alert("手机号格式不正确！");
				return false;
			}
			//开始计时  
			$("#code-btn").attr('disabled', 'disabled');
			$("#code-btn").html(count + "s秒重新获取");
			var timer = setInterval(function() {
				count--;
				$("#code-btn").html(count + "s秒重新获取");
				if(count == 0) {
					clearInterval(timer);
					$("#code-btn").attr("disabled", false); //启用按钮  
					$("#code-btn").html("重新发送验证码");
					code = ""; //清除验证码。如果不清除，过时间后，输入收到的验证码依然有效 
				}
			}, 1000);
	
			//向后台发送处理数据  
			$.ajax({
				type: "POST", //用POST方式传输  
				dataType: "json", //数据格式:JSON  
				url: 'demo.php', //目标地址  
				data: "phone=" + phone + "&code=" + code,
				error: function(XMLHttpRequest, textStatus, errorThrown) {},
				success: function(msg) {}
			});
		});
$(function(){
		  $("#xian").click(function(){
		  	if($("input").prop("type")=="password"){
		  	    $("input").prop("type","text");
		    	$("#xian img").attr("src","/static/image/reg/by.png")
		  	}else{
		  		 $("input").prop("type","password");
		    	$("#xian img").attr("src","/static/image/reg/zy.png")
		  	}
		    
		  })
		})
	</script>
</html>